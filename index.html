<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Geotab Interview Preparation - STAR Stories and Q&A">
    <meta name="theme-color" content="#0066cc">
    <title>Geotab Interview Prep</title>
    <link rel="manifest" href="manifest.json">
    <link rel="stylesheet" href="styles.css">
    <link rel="apple-touch-icon" href="icons/icon-192.png">
</head>
<body>
    <!-- Login Screen -->
    <div id="loginScreen" class="login-screen">
        <div class="login-container">
            <div class="login-card">
                <h1>ðŸŽ¯ Geotab Interview Prep</h1>
                <p class="login-subtitle">Secure access for authorized users only</p>
                <button id="googleSignInBtn" class="google-signin-btn">
                    <svg width="18" height="18" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48">
                        <path fill="#EA4335" d="M24 9.5c3.54 0 6.71 1.22 9.21 3.6l6.85-6.85C35.9 2.38 30.47 0 24 0 14.62 0 6.51 5.38 2.56 13.22l7.98 6.19C12.43 13.72 17.74 9.5 24 9.5z"/>
                        <path fill="#4285F4" d="M46.98 24.55c0-1.57-.15-3.09-.38-4.55H24v9.02h12.94c-.58 2.96-2.26 5.48-4.78 7.18l7.73 6c4.51-4.18 7.09-10.36 7.09-17.65z"/>
                        <path fill="#FBBC05" d="M10.53 28.59c-.48-1.45-.76-2.99-.76-4.59s.27-3.14.76-4.59l-7.98-6.19C.92 16.46 0 20.12 0 24c0 3.88.92 7.54 2.56 10.78l7.97-6.19z"/>
                        <path fill="#34A853" d="M24 48c6.48 0 11.93-2.13 15.89-5.81l-7.73-6c-2.15 1.45-4.92 2.3-8.16 2.3-6.26 0-11.57-4.22-13.47-9.91l-7.98 6.19C6.51 42.62 14.62 48 24 48z"/>
                        <path fill="none" d="M0 0h48v48H0z"/>
                    </svg>
                    Sign in with Google
                </button>
                <p class="login-notice">Only authorized Gmail accounts can access this app</p>
                <div id="loginError" class="login-error"></div>
            </div>
        </div>
    </div>

    <!-- Main App (hidden until authenticated) -->
    <div id="mainApp" class="main-app" style="display: none;">
        <div class="container">
            <!-- Header -->
            <header>
                <div style="display: flex; justify-content: space-between; align-items: center;">
                    <div>
                        <h1>ðŸŽ¯ Geotab Interview Prep</h1>
                        <p class="subtitle">Senior Data Scientist - Altitude Platform</p>
                    </div>
                    <div class="user-info">
                        <img id="userPhoto" class="user-photo" src="" alt="User">
                        <button id="signOutBtn" class="sign-out-btn">Sign Out</button>
                    </div>
                </div>
            </header>

            <!-- Navigation Tabs -->
            <nav class="tabs">
                <button class="tab-btn active" data-tab="stories">STAR Stories</button>
                <button class="tab-btn" data-tab="questions">Q&A</button>
                <button class="tab-btn" data-tab="ask">Questions to Ask</button>
                <button class="tab-btn" data-tab="tips">Tips</button>
            </nav>

            <!-- Search Bar -->
            <div class="search-container">
                <input type="text" id="searchInput" placeholder="Search stories, questions, or topics...">
                <button id="clearSearch">âœ•</button>
            </div>

            <!-- Filter Tags -->
            <div class="filter-container" id="filterContainer">
                <!-- Dynamically populated -->
            </div>

            <!-- Content Sections -->
            <main id="mainContent">
                <!-- STAR Stories Tab -->
                <section id="stories-content" class="tab-content active">
                    <div class="stories-grid" id="storiesGrid">
                        <!-- Dynamically populated -->
                    </div>
                </section>

                <!-- Q&A Tab -->
                <section id="questions-content" class="tab-content">
                    <div class="qa-categories" id="qaCategories">
                        <!-- Dynamically populated -->
                    </div>
                </section>

                <!-- Questions to Ask Tab -->
                <section id="ask-content" class="tab-content">
                    <div class="ask-categories" id="askCategories">
                        <!-- Dynamically populated -->
                    </div>
                </section>

                <!-- Tips Tab -->
                <section id="tips-content" class="tab-content">
                    <div class="tips-grid" id="tipsGrid">
                        <!-- Dynamically populated -->
                    </div>
                </section>
            </main>

            <!-- Modal for Story Details -->
            <div id="modal" class="modal">
                <div class="modal-content">
                    <span class="close">&times;</span>
                    <div id="modalBody"></div>
                </div>
            </div>

            <!-- Install Prompt -->
            <div id="installPrompt" class="install-prompt hidden">
                <p>Install this app for offline access</p>
                <button id="installBtn">Install</button>
                <button id="dismissInstall">âœ•</button>
            </div>

            <!-- Footer -->
            <footer>
                <p>Last updated: February 2026 | <span id="onlineStatus">Online</span></p>
            </footer>
        </div>
    </div>

    <!-- Loading Spinner -->
    <div id="loadingSpinner" class="loading-spinner">
        <div class="spinner"></div>
        <p>Authenticating...</p>
    </div>

    <!-- Firebase SDKs -->
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth-compat.js"></script>
    
    <!-- App Scripts -->
    <script src="config.js"></script>
    <script src="data.js"></script>
    <script src="auth.js"></script>
    <script src="app.js"></script>
</body>
</html>
